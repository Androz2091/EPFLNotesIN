\documentclass[a4paper]{article}

% Expanded on 2021-11-24 at 15:14:17.

\usepackage{../../style}

\title{AICC}
\author{Joachim Favre}
\date{Mercredi 24 novembre 2021}

\begin{document}
\maketitle

\lecture{20}{2021-11-24}{Repetitions and Pascal's triangle}{
    \begin{itemize}[left=0pt]
        \item Proof of the theorem for the computation of $r$-combinations.
        \item Definition of $r$-permutations with repetitions, and proof of the theorem for computing them.
        \item Definition of $r$-combinations with repetitions, and proof of the theorem for computing them.
        \item Definition of permutations with repeated items, and proof of the theorem for computing them.
        \item Explanation of the binomial theorem and of Pascal's identity.
    \end{itemize}
    
}

\parag{Theorem}{
    The number of $r$-combinations of a set with $n$ elements, where $n \geq r \geq 0$, equals: 
    \[C\left(n,r\right) = \frac{n!}{\left(n - r\right)!r!}\]

    \subparag{Proof}{
        By the product rule, we know that $P\left(n, r\right) = C\left(n, r\right) \cdot P\left(r, r\right)$: we choose the $r$ elements, then we choose the order. Thus: 
        \[C\left(n,r\right) = \frac{P\left(n, r\right)}{P\left(r, r\right)} = \frac{\frac{n!}{\left(n - r\right)!}}{\frac{r!}{\left(r - r\right)!}} = \frac{n!}{\left(n-r\right)! r!}\]
        since $0! = 1$.
    }
}

\parag{Corollary}{
    Let $n$ and $r$ be nonnegative integers where $n \geq r \geq 0$. Then: 
    \[C\left(n, n - r\right) = C\left(n, r\right)\]
}


\parag{Example 1}{
    We wonder how many hands of five cards can be dealt from a standard deck of 52 cards.

    This is a basic combination: 
    \[C\left(52, 5\right) = \frac{52!}{5!47!} = 2\,598\,960\]

    We can see that it is the same number of hands of 47 cards: 
    \[C\left(52, 47\right) = \frac{52!}{47!5!} = C\left(52, 5\right)\]

    And it makes sense since, when we are choosing 5 cards, we also choosing the 47 cards we are leaving behind.
}

\parag{Example 2}{
    We wonder how many poker hands of five card with a full house (three of a kind, and a pair) can be dealt. An example of a full house is 2 aces and 3 kings.

    We first take care of our three cards. To do that, we choose 1 face out of 13. Then for this, we choose 3 colours out of 4.

    Second, we take care of our two cards left. We choose 1 face out of the 12 left (we cannot choose the same one as the one we took before), and we choose 2 colours out of the fours. 

    Thus, the total number is given by: 
    \[C\left(13, 1\right)\cdot C\left(4,3\right) \cdot C\left(12,1\right) \cdot C\left(4,2\right) = 13 \cdot 4 \cdot 12 \cdot \frac{4}{2!2!} = 13\cdot 4\cdot 12\cdot 6 = 3744\]
    
    \subparag{Vocabulary}{
        The kind/face of a card is its value, its colour/suit is its ``type'' (there are four of them: club, diamond, heart and spade).
    }
}

\parag{Definition}{
    An \important{$r$-permutation with repetitions} of a set of distinct objects is an ordered arrangement of $r$ elements from the set, where elements can occur multiple times.
}

\parag{Theorem}{
    The number of $r$-permutations of a set of $n$ objects with repetitions allowed is; 
    \[n^r\]

    \subparag{Proof}{
        There are $n$ ways to select an element of the set for each of the $r$ positions, we can then use product rule to find $n^r$.
    }
    
}

\parag{Example}{
    We wonder how many strings of length $r$ can be formed from the upper-case letters of the English alphabet. This number is easily given by: 
    \[26^{r}\]
}

\parag{Definition}{
    An \important{$r$-combination} with repetition of elements of a set is an unordered selection of $r$ elements from the set, where elements can occur multiple times.
}

\parag{Example}{
    Let's say we want to count the number of ways there are to select four pieces of apples, oranges, and pears if the order does not matter and the fruits are indistinguishable.

    The size of the set is $n = 3$, and we want to select $r = 4$ elements with repetitions. We can represent this as 3 compartiments: one for each fruit. We can do the following drawing where the points on the left of the two bars are apples, the ones that are between two bars are oranges, and the ones on the rightmost end are pears. On every line, there are fours dots, representing the fact that there are 4 fruits: 

    \begin{center}
    \begin{tabular}{cccccc}
        | & | & $\bullet$ & $\bullet$ & $\bullet$ & $\bullet$ \\
        | & $\bullet$ & | & $\bullet$ & $\bullet$ & $\bullet$ \\
        | & $\bullet$ & $\bullet$ & | & $\bullet$ & $\bullet$ \\
        | & $\bullet$ & $\bullet$ & $\bullet$ & | & $\bullet$ \\
        | & $\bullet$ & $\bullet$ & $\bullet$ & $\bullet$ & | \\
        $\bullet$ & | & | & $\bullet$ & $\bullet$ & $\bullet$ \\
        $\bullet$ & | & $\bullet$ & | & $\bullet$ & $\bullet$ \\
        $\bullet$ & | & $\bullet$ & $\bullet$ & | & $\bullet$ \\
        $\bullet$ & | & $\bullet$ & $\bullet$ & $\bullet$ & | \\
        $\bullet$ & $\bullet$ & | & | & $\bullet$ & $\bullet$ \\
        $\bullet$ & $\bullet$ & | & $\bullet$ & | & $\bullet$ \\
        $\bullet$ & $\bullet$ & | & $\bullet$ & $\bullet$ & | \\
        $\bullet$ & $\bullet$ & $\bullet$ & | & | & $\bullet$ \\
        $\bullet$ & $\bullet$ & $\bullet$ & | & $\bullet$ & | \\
        $\bullet$ & $\bullet$ & $\bullet$ & $\bullet$ & | & | \\
    \end{tabular}
    \end{center}
    

    We can see that we, in fact, we want to choose the $n - 1 = 2$ positions for the bar amongst the $r + n - 1 = 6$ possible. Another way of seeing that, is that we want to choose $r$ positions for the fruits amongst the $r + n - 1 = 6$ possible. Thus, we have: 
    \[C\left(n + r - 1, n - 1\right) = C\left(n + r - 1, r\right) = C\left(6, 2\right) = \frac{6!}{4!2!} = 15\]
}

\parag{Theorem}{
    The number of $r$-combinations from a set with $n$ elements when repetition of elements is allowed is: 
    \[C\left(n + r - 1, r\right) = C\left(n + r - 1, n - 1\right)\]

    \subparag{Proof}{
        The reasoning is similar as the one we did above. 

        Each $r$-combination of a set with $n$ elements with repetition allowed can be represent by a list of $n-1$ bars and $r$ dots. The bars mark the $n$ cells containing a dot for each time the $i$\Th element of the set occurs in the combinaison.

        The number of such lists is $C\left(n+r-1, r\right)$: each list is a choice of the $r$ positions to place the dots, from the total of $n + r - 1$ positions to place the dots and the bars.

        This is also equal to $C\left(n + r - 1, n - 1\right)$, which is the number of ways to place the $n-1$ bars.

        \qed
    }
}

\parag{Example 1}{
    We wonder how many ways there are to select five bills of the following denominations: 1, 2, 5, 10, 20, 50 and 100. 

    We see that it is a $r$-combination with repetition, where $r = 5$ and $n = 7$. So, this number is given by: 
    \[C\left(n + r - 1, r\right) = C\left(11, 5\right) = \frac{11!}{5!6!} = 462\]
    
}


\parag{Example 2}{
    We wonder how many solutions the equation $x_1 + x_2 + x_3 = 11$ has, where $x_1$, $x_2$ and $x_3$ are nonnegative integers.

    Let's pick, $x_1$ is the number of apples, $x_2$ is the number of oranges and $x_3$ is the number of pears. Then, it is as if we want to pick 11 of those fruits, allowing repetitions. So, it is a $r$-combination where $n = 3$ and $r = 11$. Thus, this number is given by:
    \[C\left(n+r-1, r\right) = C\left(13, 11\right) = \frac{13!}{2!12!} = \frac{13\cdot 12}{2} = 78\]
}

\parag{Example of permutations with indistinguishable objects}{
    We wonder how many different strings can be made by reordering the letters of the word \textit{SUCCESS}.

    We see that, in this word, there are 3 S, 2 C, 1 U, 1 E, and a total of 7 characters. Finding the positions for the S is a combination: we choose 3 positions out of the 7 possible for them. Similarly, for the 2 C, there are C(4, 2) possibilities (there are already 3 positions occupied); for the 1 U there are $C\left(2, 1\right)$; and for the 1 E there are $C\left(1, 1\right)$.

    Thus, all the number of possible ways is given by: 
    \[C\left(7,3\right)\cdot C\left(4,2\right)\cdot C\left(2,1\right)\cdot C\left(1,1\right) = \frac{7!}{3!4!} \cdot \frac{4!}{2!2!} \cdot \frac{2!}{1!1!} \cdot \frac{1!}{0!} = \frac{7!}{3!2!} = 420\]

    
}

\parag{Theorem}{
    The number of different permutations of $n$ objects, where there are $n_1$ indistinguishable objects type 1, $n_2$ of type 2, and so on until $n_k$ indistinguishable objects of type $k$, is: 
    \[\frac{n!}{n_1! n_2! \cdot \ldots \cdot n_k!}\]
    
    \subparag{Proof}{
        By the product rule, the total number of permutations is:
        \[C\left(n, n_1\right)C\left(n - n_1, n_2\right)\cdot\ldots\cdot C\left(n - n_1 - n_2 - \ldots - n_{k-1}, n_k\right)\]

        Indeed, the $n_1$ objects of type 1 can be placed in the $n$ positions in $C\left(n, n_1\right)$ ways, leaving $n - n_1$ positions. Then, the $n_2$ objects of type 2 can be placed in the $n - n_1$ positions in $C\left(n - n_1, n_2\right)$ ways, leaving $n - n_1 - n_2$. We continue until we reach the $n_k$ objects of type $k$. 

        So, we got:
        \[\frac{n!}{n_1!\left(n - n_1\right)!} \cdot \frac{\left(n - n_1\right)!}{n_2!\left(n - n_1 - n_2\right)!} \cdot \ldots \cdot \frac{\left(n - n_1 - \ldots - n_{k-1}\right)!}{n_k! 0!}\]

        Which can be simplified to: 
        \[\frac{n!}{n_1!n_2!\cdot\ldots\cdot n_k!}\]
            
    }

    \subparag{Distinction with permutations with repetitions}{
        Permutations with repetitions and permutations with indistinguishable objects may seem confusing here is an example of both, to explain the distinction.

        Let's pick $r = 3$, with $S = \left\{1, 2\right\}$. The following examples are permutations with repetitions: 
        \[1,1,1 \mathspace 1,1,2 \mathspace 1,2,1 \mathspace 2,1,1 \mathspace 1, 2, 2 \mathspace 2, 1, 2 \mathspace 2, 2, 1 \mathspace 2, 2, 2\]
        
        Let's pick $n_1 = 2$ and $n_2 = 1$ with (1, 1, 2). The following are permutation with indistinguishable objects:
        \[1, 1, 2 \mathspace 1, 2, 1 \mathspace 2, 1, 1\]
    }
}

\parag{Summary}{
    We can make the following summary:
    \imagehere[0.7]{PermutationsCombinationsSummary.png}
    
    Moreover, if we take $n = 4$, $r = 2$ and $S = \left\{1, 2, 3, 4\right\}$, we have:
    \imagehere{PermutationsCombinationsSummaryExample.png}
}

\parag{Poker dice}{
    We use five d6, which have the following faces: A, K, Q, J, 10, 9.

    We ask ourselves the following questions:
    \begin{enumerate}
        \item What is the number of possible rolls?
        \item What is the number of different outcomes (rolls, but unordered)?
    \end{enumerate}
    
    We can do the following reasoning:
    \begin{enumerate}
        \item Each die gives us 6 possibilities, so this is a permutation with repetitions:
        \[6^5 = 7776\]
        \item This is a combination with repetitions: 
            \[C\left(n + r - 1, r\right) = C\left(10, 5\right) = 252\]
    \end{enumerate}

    As expected, the same outcome can be realised by different rolls.

    \subparag{Pair}{
        Let's say we now want to know how many different outcomes there are for having one pair. 

        First, we choose 1 face for the pair. Second, we choose 3 faces for the other possibilities (we don't want a second pair). Both are combinations, so we find: 
        \[\binom{6}{1} \binom{5}{3} = 60\]
        
        Now, let's say we wonder how many rolls realise each outcome. We have a permutation with repeated items, where $n = 5$, $n_1 = 2$ and $n_2 = n_3 = n_4 = 1$. So, for each of those 60 ways, there is the following number of different rolls that give them: 
        \[\frac{n!}{n_1!n_2!n_3!} = \frac{5!}{2!} = \frac{120}{2} = 60\]
        
    }

    \subparag{Two pairs}{
        We can do the same computations for two pairs, we'll realise that here are the same number of different outcomes, 60, but less rolls that give them.
    }
}

\subsection{Binomial theorem}
\parag{Example}{
    Let's expand the following polynomial: 
    \[\left(x + y\right)^3 = \left(x + y\right)\left(x + y\right)\left(x + y\right) = a_0 x^3 + a_1 x^2 y + a_2 xy^2 + a_3 y^3\]
    
    We wonder how we can get the coefficients without computing them. There is only one way of making the $x^3$, picking three times the $x$. For $x^2 y$, we have to choose 2 factors from which we will take a $x$ out of the 3. And we can continue. Thus, we have: 
    \[a_0 = \binom{3}{3}, \mathspace a_1 = \binom{3}{2}, \mathspace a_2 = \binom{3}{1}, \mathspace a_3 = \binom{3}{0}\]
}

\parag{Binomial theorem}{
    Let $x$ and $y$ be variables, and $n$ a nonnegative integer. Then: 
    \[\left(x + y\right)^n = \sum_{j=0}^{n} \binom{n}{j} x^{n - j} y^{j}\]
    
    Thus, the coefficients of the expansion of the powers of $x + y$ are related to the number of combinations.
}


\parag{Example}{
    Let's say we wonder what is the coefficient of $x^{12} y^{13}$ in the expansion of $\left(2x - 3y\right)^{25}$. 

    Using our theorem, we find: 
    \[\left(2x - 3y\right)^{25} = \left(\left(2x\right) + \left(-3y\right)\right)^{25} = \sum_{j=0}^{25} \binom{25}{j} \left(2x\right)^{25 - j} \left(-3y\right)^j\]
    
    We can then pick $j = 13$, and we find: 
    \[\binom{25}{13} \left(2x\right)^{12} \left(-3\right)^{13} = \frac{25!}{13!12!} 2^{12} \left(-3\right)^{13} x^{12} y^{13}\]
}

\parag{Corollary}{
    Let $n \geq 0$. We have: 
    \[\sum_{k = 0}^{n} \binom{n}{k} = 2^{n}\]
    
    \subparag{Intuition}{
        Every term is the number of different subsets of size $k$ from a set of size $n$. Since we are adding them, it must give us the size of the power set, $2^n$.
    }

    \subparag{Proof}{
        \[2^n = \left(1 + 1\right)^n = \sum_{k=0}^{n} \binom{n}{k} 1^{n-k} 1^{k} = \sum_{k=0}^{n} \binom{n}{k}\]
    }
}

\parag{Pascal's identity}{
    If $n$ and $k$ are integers where $n \geq k \geq 0$, then: 
    \[\binom{n+1}{k} = \binom{n}{k - 1} + \binom{n}{k}\]
    
    \subparag{Usefulness}{
        This is a recursive multiplication-free definition of the binomial coefficient.
    }

    \subparag{Proof}{
        \begin{multiequality}
        & \binom{n}{k-1} + \binom{n}{k} \\
        =\ & \frac{n!}{\left(n - k + 1\right)!\left(k - 1\right)!} + \frac{n!}{\left(n-k\right)!n!}  \\
        =\ & \frac{n!k}{\left(n - k + 1\right)!\left(k-1\right)!k} + \frac{n!\left(n-k+1\right)}{\left(n-k\right)!\left(n-k+1\right)k!} \\ 
        =\ & \frac{n!k}{\left(n - k + 1\right)!\left(k\right)!} + \frac{n!\left(n-k+1\right)}{\left(n-k+1\right)!k!} \\
        =\ & \frac{n!\left(k + n - k + 1\right)}{\left(n - k + 1\right)!k!}  \\
        =\ & \frac{\left(n + 1\right)!}{\left(n - k + 1\right)!k!}  \\
        =\ & \binom{n+1}{k} 
        \end{multiequality}
    }
}

\parag{Pascal's triangle}{
    \imagehere{PascalsTriangle.png}
}

\parag{Property}{
    The following identity holds: 
    \[\sum_{k=1}^{n} k \binom{n}{k} = n2^{n-1}\]
    
    \subparag{Proof}{
        Let's consider the following function: 
        \[f\left(x\right) = \left(1 + x\right)^{n} = \sum_{k = 0}^{n} \binom{n}{k} 1^{n-k} x^{k} = \sum_{k=0}^{n} \binom{n}{k} x^k\]
        
        Let's now consider this function's derivative: 
        \[f'\left(x\right) = \frac{d}{dx} \left(1 + x\right)^{n} = n\left(1 + x\right)^{n-1} \implies f'\left(1\right) = n 2^{n-1}\]
        
        Moreover: 
        \[f'\left(x\right) = \frac{d}{dx} \sum_{k=0}^{n} \binom{n}{k} x^k = \sum_{k=0}^{n} \binom{n}{k} k \cdot x^{k-1} \implies f'\left(1\right) = \sum_{k=0}^{n} k\binom{n}{k}\]
        
        So: 
        \[f'\left(1\right) = f'\left(1\right) \implies \sum_{k=1}^{n} k \binom{n}{k} = n2^{n-1}\]

        \qed
    }

    \subparag{Proof using combinatorics}{
        We choose a group of arbitrary size, and designate one of its element as a leader.

        The first approach is to choose first the leader, we have $n$ possibilities. Amongst the $n-1$ remaining, we choose whether they are in it or not, it is given by: 
        \[n 2^{n-1}\]
        
        The second approach is to choose a group of size $k$ (it is given by $\binom{n}{k}$), and then choose the leader, for which we have $k$ possibilities. This number is thus given by:
        \[\sum_{k=1}^{n} k \binom{n}{k}\]

        Since both approach must yield the same result, we have:
        \[\sum_{k=1}^{n} k \binom{n}{k} = n2^{n-1}\]

        \qed
    }
    
}





\end{document}
